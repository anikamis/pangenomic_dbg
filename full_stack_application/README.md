# CDBG Visualizer

Team 43: Anika Misra, Brian Rui, Cindy Zhang, Lambert Kober

Frontend application as part of the final project for EN.601.447/647: Computational Genomics: Sequences.

## Getting Started

![cbdg-visualizer-design drawio](https://user-images.githubusercontent.com/57109640/206641455-3257270e-c6c2-4443-ad2a-f73595074bf8.png)

This application is meant to be used in conjunction with the corresponding Python application. It allows users to visualize the generated colored De Bruijn graphs. To begin, drag or upload a JSON graph file that was generated by the Pyhon application. The JSON file should have the following format:

```json
{
  "nodes": [
    {
      "id": "ABC",
      "color": "#4287F5",
      "strains": [0],
      "val": 4
    },
    {
      "id": "DEF",
      "color": "#F5429B",
      "strains": [0, 2],
      "val": 25
    },
    {
      "id": "GHI",
      "color": "#42F569",
      "strains": [0, 3],
      "val": 10
    },
    ...
  ],
  "links": [
    {
      "source": "ABC",
      "target": "DEF"
    },
    {
      "source": "GHI",
      "target": "ABC"
    },
    ...
  ],
  "strains": [
    {
      "id": 0,
      "name": "strain-1",
      "colors": ["#4287F5"]
    },
    {
      "id": 1,
      "name": "strain-2",
      "colors": ["#F5429B"]
    },
    {
      "id": 2,
      "name": "strain-3",
      "colors": ["#42F569"]
    }
    ...
  ]
}
```

We experimented with several graph visualization libraries and settled on [cosmograph](https://cosmograph.app/). It is a GPU-accelerated library that is meant to handle large graphs. However, please note that JavaScript and web browsers were not meant for this amount of data (i.e., millions of edges and hundreds of thousands of nodes). As a result, the application may be slow and unresponsive even with a GPU-acclerated library. Thus, treat this project as a proof-of-concept rather than a production-ready application.

## Running Locally

To run the application locally, make sure that [node](https://nodejs.org/en/) and the [pnpm](https://pnpm.io/) package manager are installed. Then, run the following commands:

```zsh
pnpm install
pnpm dev
```

You should then see a similar message in the terminal:

```zsh
 VITE v3.2.5  ready in 298 ms

  ➜  Local:   http://localhost:5173/
  ➜  Network: use --host to expose
```

Go to the localhost link in the browser to interact with the application! Upload the JSON file in the `input/` folder to see an example graph.

## Features

- Click on a node to display show node information on the left-side panel
- Highlight all nodes corresponding to a color by using the dropdown menu
- Pause/play the graph animation by clicking on the play/pause button found on the bottom right corner
- Clear the graph data by clicking on the reset button found on the bottom right corner

## Notes

It takes around ~10 seconds to load a large JSON file and an additional ~10 seconds to render the graph itself, so please be patient when dealing with large files.
